<!DOCTYPE html><html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>centos7使用ssh密钥登陆 - 闹市无声</title><meta name="viewport" content="width=device-width,initial-scale=1"><link rel="stylesheet" href="/style.css"><link rel="shortcut icon" href="/favicon.ico" type="image/x-icon"></head><body><div class="header"><a href="/"><img src="/logo.png" alt="闹市无声"></a></div><div class="post"><h3>centos7使用ssh密钥登陆</h3><p>在某些时候，使用密码作为登录服务器的认证方式是不太安全的，为避免密码被暴力破解，许多时候可以采用ssh密钥登录服务器，这里以CentOS为例。<br><br></p><h4>1、生成秘钥对，在服务器上利用ssh-keygen生成</h4><code>ssh-keygen -t rsa</code><br><br>一路enter跳过(当然你也可以自己定义，不过没必要)，会在/root/.ssh下生成公钥(id_rsa.pub)私钥(id_rsa) （公钥是用于服务器端，私钥是用于客户端） 然后将私钥下载至电脑上(登录时会用到)。<br><br><h4>2、修改/etc/ssh/sshd_config如下部分</h4><code>RSAAuthentication yes 开启RSA验证<br>PubkeyAuthentication yes 是否使用公钥验证<br>AuthorizedKeysFile .ssh/authorized_keys 公钥的保存位置<br>PasswordAuthentication no 禁止使用密码验证登录</code><br><br>这里最好是禁止使用密码验证登录，否则用密钥就没多大意义了，更改后保存。<br><br><h4>3、进入到密钥保存的目录</h4><code>cd /root/.ssh</code><br><br>新建密钥验证文件”authorized_keys”，并将公钥输出重定向覆盖密钥验证文件<br><br><code>touch authorized_keys<br>cat id_rsa.pub >> authorized_keys</code><br><br>修改authorized_keys文件权限为600<br><br><code>chmod 600 /root/.ssh/authorized_keys</code><br><br><h4>4、重启ssh服务</h4><code>systemctl restart sshd.service</code><br><br>接下来就能够通过密钥登录服务器了<p></p></div></body></html>
